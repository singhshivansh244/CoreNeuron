<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>CoreNEURON: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CoreNEURON
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Overview</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">CoreNEURON Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/BlueBrain/CoreNeuron"></a></p>
<h1>CoreNEURON</h1>
<blockquote class="doxtable">
<p>Optimised simulator engine for <a href="https://www.neuron.yale.edu/neuron/">NEURON</a> </p>
</blockquote>
<p>CoreNEURON is a compute engine for the <a href="https://www.neuron.yale.edu/neuron/">NEURON</a> simulator optimised for both memory usage and computational speed. Its goal is to simulate large cell networks with small memory footprint and optimal performance.</p>
<h2>Features / Compatibility</h2>
<p>CoreNEURON is designed as a library within the NEURON simulator and can transparently handle all spiking network simulations including gap junction coupling with the <b>fixed time step method</b>. In order to run a NEURON model with CoreNEURON:</p>
<ul>
<li>MOD files should be THREADSAFE</li>
<li>MOD files must use the Random123 random number generator (instead of MCellRan4)</li>
<li>POINTER variables need to be converted to BBCOREPOINTER (<a href="http://bluebrain.github.io/CoreNeuron/index.html">details here</a>)</li>
</ul>
<h2>Dependencies</h2>
<ul>
<li><a href="https://cmake.org">CMake 3.7+</a></li>
<li><a href="http://mpich.org">MPI 2.0+</a> [Optional]</li>
<li><a href="https://www.pgroup.com/resources/accel.htm">PGI OpenACC Compiler &gt;=19.0</a> [Optional, for GPU support]</li>
<li><a href="https://developer.nvidia.com/cuda-toolkit-60">CUDA Toolkit &gt;=6.0</a> [Optional, for GPU support]</li>
</ul>
<p>In addition to this, you will need other <a href="https://github.com/neuronsimulator/nrn">NEURON dependencies</a> such as Python, Flex, Bison etc.</p>
<h2>Installation</h2>
<p>CoreNEURON is now integrated into the development version of the NEURON simulator. If you are a NEURON user, the preferred way to install CoreNEURON is to enable extra build options during NEURON installation as follows:</p>
<ol type="1">
<li>Clone the latest version of NEURON:</li>
</ol>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;git clone https://github.com/neuronsimulator/nrn</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cd nrn</div></div><!-- fragment --><ol type="1">
<li>Create a build directory:</li>
</ol>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;mkdir build</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cd build</div></div><!-- fragment --><ol type="1">
<li><p class="startli">Load software dependencies</p>
<p class="startli">Currently CoreNEURON relies on compiler auto-vectorisation and hence we advise to use one of Intel, Cray, or PGI compilers to ensure vectorized code is generated. This constraint will be removed in the near future with the integration of the <a href="https://github.com/BlueBrain/nmodl">NMODL</a> project.</p>
<p class="startli">HPC systems often use a module system to select software. For example, you can load the compiler, cmake, and python dependencies using module as follows:</p>
</li>
</ol>
<pre class="fragment">```
module load intel intel-mpi python cmake
```
</pre><p> Note that if you are building on Cray system with the GNU toolchain, you have to set following environment variable: </p><pre class="fragment">```bash
export CRAYPE_LINK_TYPE=dynamic
```
</pre><ol type="1">
<li>Run CMake with the appropriate <a href="https://github.com/neuronsimulator/nrn#build-using-cmake">options</a> and additionally enable CoreNEURON with <code>-DNRN_ENABLE_CORENEURON=ON</code> option:</li>
</ol>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cmake .. \</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; -DNRN_ENABLE_CORENEURON=ON \</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160; -DNRN_ENABLE_INTERVIEWS=OFF \</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160; -DNRN_ENABLE_RX3D=OFF \</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160; -DCMAKE_INSTALL_PREFIX=$HOME/install</div></div><!-- fragment --><p> If you would like to enable GPU support with OpenACC, make sure to use <code>-DCORENRN_ENABLE_GPU=ON</code> option and use the PGI compiler with CUDA. </p><blockquote class="doxtable">
<p>NOTE : if the CMake command files, please make sure to delete temporary CMake cache files (<code>CMakeCache.txt</code>) before rerunning CMake. </p>
</blockquote>
<ol type="1">
<li><p class="startli">Build and Install : once the configure step is done, you can build and install the project as:</p>
<p class="startli">```bash make -j install ```</p>
</li>
</ol>
<h2>Building Model</h2>
<p>Once NEURON is installed with CoreNEURON support, you need setup setup the <code>PATH</code> and <code>PYTHONPATH</code> environment variables as:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;export PYTHONPATH=$HOME/install/lib/python:$PYTHONPATH</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;export PATH=$HOME/install/bin:$PATH</div></div><!-- fragment --><p>As in a typical NEURON workflow, you can use <code>nrnivmodl</code> to translate MOD files:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;nrnivmodl mod_directory</div></div><!-- fragment --><p>In order to enable CoreNEURON support, you must set the <code>-coreneuron</code> flag:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;nrnivmodl -coreneuron mod_directory</div></div><!-- fragment --><p>If you see any compilation error then one of the mod files might be incompatible with CoreNEURON. Please <a href="https://github.com/BlueBrain/CoreNeuron/issues">open an issue</a> with an example and we can help to fix it.</p>
<h2>Running Simulations</h2>
<p>With CoreNEURON, existing NEURON models can be run with minimal changes. For a given NEURON model, we typically need to adjust as follows:</p>
<ol type="1">
<li>Enable cache effficiency : <code>h.cvode.cache_efficient(1)</code></li>
<li><p class="startli">Enable CoreNEURON :</p>
<p class="startli">``` from neuron import coreneuron coreneuron.enable = True ``<code></code></p>
</li>
<li><p class="startli"><code>Use</code>psolve` to run simulation after initialization :</p>
<p class="startli">``` h.stdinit() pc.psolve(h.tstop) ```</p>
</li>
</ol>
<p>Here is a simple example model that runs with NEURON first, followed by CoreNEURON and compares results between NEURON and CoreNEURON execution:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;import sys</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;from neuron import h, gui</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;# setup model</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;h(&#39;&#39;&#39;create soma&#39;&#39;&#39;)</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;h.soma.L=5.6419</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;h.soma.diam=5.6419</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;h.soma.insert(&quot;hh&quot;)</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;h.soma.nseg = 3</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;ic = h.IClamp(h.soma(.25))</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;ic.delay = .1</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;ic.dur = 0.1</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;ic.amp = 0.3</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;ic2 = h.IClamp(h.soma(.75))</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;ic2.delay = 5.5</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;ic2.dur = 1</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;ic2.amp = 0.3</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;h.tstop = 10</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;# make sure to enable cache efficiency</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;h.cvode.cache_efficient(1)</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;pc = h.ParallelContext()</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;pc.set_gid2node(pc.id()+1, pc.id())</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;myobj = h.NetCon(h.soma(0.5)._ref_v, None, sec=h.soma)</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;pc.cell(pc.id()+1, myobj)</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;# First run NEURON and record spikes</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;nrn_spike_t = h.Vector()</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;nrn_spike_gids = h.Vector()</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;pc.spike_record(-1, nrn_spike_t, nrn_spike_gids)</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;h.run()</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;# copy vector as numpy array</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;nrn_spike_t = nrn_spike_t.to_python()</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;nrn_spike_gids = nrn_spike_gids.to_python()</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;# now run CoreNEURON</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;from neuron import coreneuron</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;coreneuron.enable = True</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;coreneuron.verbose = 0</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;h.stdinit()</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;corenrn_all_spike_t = h.Vector()</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;corenrn_all_spike_gids = h.Vector()</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;pc.spike_record(-1, corenrn_all_spike_t, corenrn_all_spike_gids )</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;pc.psolve(h.tstop)</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;# copy vector as numpy array</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;corenrn_all_spike_t = corenrn_all_spike_t.to_python()</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;corenrn_all_spike_gids = corenrn_all_spike_gids.to_python()</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;# check spikes match between NEURON and CoreNEURON</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;assert(nrn_spike_t == corenrn_all_spike_t)</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;assert(nrn_spike_gids == corenrn_all_spike_gids)</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;h.quit()</div></div><!-- fragment --><p>We can run this model as:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;python test.py</div></div><!-- fragment --><p>You can find <a href="https://github.com/neuronsimulator/nrn/blob/master/test/coreneuron/test_direct.hoc">HOC example</a> here.</p>
<h2>FAQs</h2>
<h4>What results are returned by CoreNEURON?</h4>
<p>At the end of the simulation CoreNEURON transfers by default : spikes, voltages, state variables, <a class="el" href="struct_net_con.html">NetCon</a> weights, all Vector.record, and most GUI trajectories to NEURON. These variables can be recorded using regular NEURON API (e.g. <a href="https://www.neuron.yale.edu/neuron/static/py_doc/programming/math/vector.html#Vector.record">Vector.record</a> or <a href="https://www.neuron.yale.edu/neuron/static/new_doc/modelspec/programmatic/network/parcon.html#ParallelContext.spike_record">spike_record</a>).</p>
<h4>How can I pass additional flags to build?</h4>
<p>One can specify C/C++ optimization flags specific to the compiler with <code>-DCMAKE_CXX_FLAGS</code> and <code>-DCMAKE_C_FLAGS</code> options to the CMake command. For example:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cmake .. -DCMAKE_CXX_FLAGS=&quot;-O3 -g&quot; \</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;         -DCMAKE_C_FLAGS=&quot;-O3 -g&quot; \</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;         -DCMAKE_BUILD_TYPE=CUSTOM</div></div><!-- fragment --><p>By default, OpenMP threading is enabled. You can disable it with <code>-DCORENRN_ENABLE_OPENMP=OFF</code></p>
<h4>GPU enabled build is failing with inlining related errors, what to do?</h4>
<p>If there are large functions / procedures in the MOD file that are not inlined by the compiler, you may need to pass additional C++ flags to PGI compiler. You can try:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cmake .. -DCMAKE_CXX_FLAGS=&quot;-O2 -Minline=size:1000,levels:100,totalsize:40000,maxsize:4000&quot; \</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;         -DCORENRN_ENABLE_GPU=ON -DCMAKE_INSTALL_PREFIX=$HOME/install</div></div><!-- fragment --><h2>Developer Build</h2>
<h5>Building standalone CoreNEURON</h5>
<p>If you want to build the standalone CoreNEURON version, first download the repository as:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;git clone https://github.com/BlueBrain/CoreNeuron.git</div></div><!-- fragment --><p>Once the appropriate modules for compiler, MPI, CMake are loaded, you can build CoreNEURON with:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;mkdir CoreNeuron/build &amp;&amp; cd CoreNeuron/build</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cmake .. -DCMAKE_INSTALL_PREFIX=$HOME/install</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;make -j &amp;&amp; make install</div></div><!-- fragment --><p>If you don't have MPI, you can disable the MPI dependency using the CMake option <code>-DCORENRN_ENABLE_MPI=OFF</code>. Once build is successful, you can run tests using:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;make test</div></div><!-- fragment --><h5>Compiling MOD files</h5>
<p>In order to compile mod files, one can use <b>nrnivmodl-core</b> as:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;/install-path/bin/nrnivmodl-core mod-dir</div></div><!-- fragment --><p>This will create a <code>special-core</code> executable under <code>&lt;arch&gt;</code> directory.</p>
<h5>Building with GPU support</h5>
<p>CoreNEURON has support for GPUs using the OpenACC programming model when enabled with <code>-DCORENRN_ENABLE_GPU=ON</code>. Below are the steps to compile with PGI compiler:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;module purge all</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;module load pgi/19.4 cuda/10 cmake intel-mpi # change pgi, cuda and mpi modules</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;cmake .. -DCORENRN_ENABLE_GPU=ON -DCMAKE_INSTALL_PREFIX=$HOME/install</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;make -j &amp;&amp; make install</div></div><!-- fragment --><p>Note that the CUDA Toolkit version should be compatible with the PGI compiler installed on your system. Otherwise, you have to add extra C/C++ flags. For example, if we are using CUDA Toolkit 9.0 installation but PGI default target is CUDA 8.0 then we have to add :</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;-DCMAKE_C_FLAGS:STRING=&quot;-O2 -ta=tesla:cuda9.0&quot; -DCMAKE_CXX_FLAGS:STRING=&quot;-O2 -ta=tesla:cuda9.0&quot;</div></div><!-- fragment --><p>You have to run GPU executable with the <code>--gpu</code> flag. Make sure to enable cell re-ordering mechanism to improve GPU performance using <code>--cell_permute</code> option (permutation types : 2 or 1):</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;mpirun -n 1 ./bin/nrniv-core --mpi --gpu --tstop 100 --datpath ../tests/integration/ring --cell-permute 2</div></div><!-- fragment --><blockquote class="doxtable">
<p>Note: If your model is using Random123 random number generator, you cannot use the same executable for CPU and GPU runs. We suggest to build separate executables for CPU and GPU simulations. This will be fixed in future releases. </p>
</blockquote>
<h5>Running tests with SLURM</h5>
<p>If you have a different mpi launcher (than <code>mpirun</code>), you can specify it during cmake configuration as:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cmake .. -DTEST_MPI_EXEC_BIN=&quot;mpirun&quot; \</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;         -DTEST_EXEC_PREFIX=&quot;mpirun;-n;2&quot; \</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;         -DTEST_EXEC_PREFIX=&quot;mpirun;-n;2&quot; \</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;         -DAUTO_TEST_WITH_SLURM=OFF \</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;         -DAUTO_TEST_WITH_MPIEXEC=OFF \</div></div><!-- fragment --><p> You can disable tests using with options:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cmake .. -CORENRN_ENABLE_UNIT_TESTS=OFF</div></div><!-- fragment --><h5>CLI Options</h5>
<p>To see all CLI options for CoreNEURON, see <code>./bin/nrniv-core -h</code>.</p>
<h5>Formatting CMake and C++ Code</h5>
<p>In order to format code with <code>cmake-format</code> and <code>clang-format</code> tools, before creating a PR, enable below CMake options:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;cmake .. -DCORENRN_CLANG_FORMAT=ON -DCORENRN_CMAKE_FORMAT=ON</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;make -j install</div></div><!-- fragment --><p>and now you can use <code>cmake-format</code> or <code>clang-format</code> targets:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;make cmake-format</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;make clang-format</div></div><!-- fragment --><h3>Citation</h3>
<p>If you would like to know more about CoreNEURON or would like to cite it, then use the following paper:</p>
<ul>
<li>Pramod Kumbhar, Michael Hines, Jeremy Fouriaux, Aleksandr Ovcharenko, James King, Fabien Delalondre and Felix Schürmann. CoreNEURON : An Optimized Compute Engine for the NEURON Simulator (<a href="https://doi.org/10.3389/fninf.2019.00063">doi.org/10.3389/fninf.2019.00063</a>)</li>
</ul>
<h3>Support / Contribuition</h3>
<p>If you see any issue, feel free to <a href="https://github.com/BlueBrain/CoreNeuron/issues/new">raise a ticket</a>. If you would like to improve this library, see <a href="https://github.com/BlueBrain/CoreNeuron/issues">open issues</a>.</p>
<p>You can see current <a href="https://github.com/BlueBrain/CoreNeuron/graphs/contributors">contributors here</a>.</p>
<h2>License</h2>
<ul>
<li>See LICENSE.txt</li>
<li>See <a href="https://www.neuron.yale.edu/neuron/">NEURON</a></li>
</ul>
<h2>Funding</h2>
<p>CoreNEURON is developed in a joint collaboration between the Blue Brain Project and Yale University. This work has been funded by the EPFL Blue Brain Project (funded by the Swiss ETH board), NIH grant number R01NS11613 (Yale University), the European Union Seventh Framework Program (FP7/20072013) under grant agreement n◦ 604102 (HBP) and the Eu- ropean Union’s Horizon 2020 Framework Programme for Research and Innovation under Grant Agreement n◦ 720270 (Human Brain Project SGA1) and Grant Agreement n◦ 785907 (Human Brain Project SGA2). </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.15-->
<!-- start footer part -->
<div id="nav-path" class="navpath">
  <ul>
  </ul>
</div>
<hr class="footer"/>
<address class="footer">
    <small>
    </small>
</address>
<!--END !GENERATE_TREEVIEW-->
</body>
</html>
